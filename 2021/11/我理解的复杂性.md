# 我理解的复杂性

最近看 blog 读到一些关于系统复杂性的东西. 我产生了一个疑问"为啥系统的复杂度在增加?", 最后我给出了我的答案"对已有存在的部分否定, 导致系统变的更复杂".

我理解的系统复杂度就是"分支"语句, 存在一个分支复杂度就 +1. 当然分支的范围很广,具体到代码上就是`if/else`, `switch`, `error`, 也可以通过设计模式把分支语句藏的深一些, 但这些"分支"逻辑不会消失只能转移, 有一个专门描述这种现象的定律:[复杂性守恒定律](https://en.wikipedia.org/wiki/Law_of_conservation_of_complexity).

## 我答案的解释

### 有意思的小故事

假设存在一个理想的系统. 询问`Bob`, 然后返回`Bob`说了什么. 
```go
func hi() string {
    return Bob.hi();
}
```

但很快现实会狠狠抽打理想系统, `Bob`好像不是任何时间都会做出回应, 他很有可能在睡觉也可能出去了, 不得已需要加入一个错误判断逻辑. 这就是对已有存在的一次否定, 本身可以很简单为啥非要加一个判断.
```go
func hi() (string,error) {
    return Bob.hi();
}
```

但过了两天, 发现服务`Bob`脾气不是很好, 经常生脾气, 我需要对脏话的话做下转换, 以防有人发现这个状况. 这就是对已有存在进行了部分否定.
```go
func hi() (string,error) {
    h,err := Bob.hi();
    if err != nil {
        return "", err
    }
    if h == "Fxxk" {
        return "Hi",nil
    }
    return h,nil
}
```

有过了两天, 发现`Bob`这方面的的词汇量巨大, 我不得不继续增加转换规则, 要不试试一个`map`或正则.

随后`Bob`找到我说"不要老找我, 你以后只需要下午3\~4点找我, 其他时间你统一会'Hi'就好了". 我不得不进行继续的修改, 添加上时间戳的判断.

很快又发现了时差的问题, `Bob`的行程很多满世界飞, 需要根据`Bob`的行程来确定是否通知他.我们又多了一个配置文件, 获得每周`Bob`的行程

### 部分否定

就像故事中所说, 随着时间不断对已有逻辑进行部分否定, 要是完全否定其实并不会增加任何逻辑, 而且会减少逻辑. 故事只要`Bob`要求, 以后不要联系他了, 直接回复"Hi"就好了, 这样系统立刻就简单了. 

但现实不是这样的, 现实就是对逐渐改变, 不断的否定已经存在的部分. 每一次否定, 就需要加入一个分支甚至多个分支, 来搞定否定逻辑, 随着否定逻辑越来越多, 系统也越来越复杂. 就想<是大臣>中一样, 汉弗莱对一个政策有抵触, 有没有足够的理由不执行, 就搞一个"xxx委员会"进行评估最后实现拖延不执行政策或调整政策执行实现对自己有利. 这个过程中就是对系统进行了部分否定, "xxx委员会"存在后在裁撤就很费劲了, 这引入的系统复杂性很难消灭了.

实际中的系统开发就面对了一下几种否定行为
1. 现实世界的否定
    1. 物理极限
    2. 生物极限
    3. 数学极限
    4. ...
2. 人际关系之间权利分割和转移产生的否定
    1. 外卖小哥作为自由职业者无权对自己的劳动定价
    2. 用户无权决定自己的看到的内容
    3. 我必须服从某人的命令
    4. 某个政策执行存在抵触
    5. 遇到摆烂的地产公司
    6. 用户可能感觉这么更好, 至少我认为更好, 用户不要选择了.
    7. ...
3. 自身的欲望否定
    1. 不喜欢某种食物
    2. 消极执行命令
    3. 追求混乱
    4. 追求不同
4. 资源的否定
    1. 时间不够
    2. 空间不够
    3. 钱不够
    4. 人不够

人类世界构建系统复杂性就是不断的否定自身和权利转移越来越复杂. 很多时候因为权利分割导致的复杂可以通过消灭"提出问题的人"来阻止复杂性的产生, 而且效果很好, 但这种方式风险很大, 可能最后会翻船.

## 其他的复杂性

人构建的复杂性很多与权利的分割有关, 另一种复杂性来源于并行和大量的自我反馈. 

当系统有足够多的个体并行做事, 并且每个个体有自由意志\(虚假的也算\), 这个系统根部无法进行模拟, 系统必然开始混乱. 

另一个就是系统存在大量自我反馈, 系统必然开始复杂, 并且无法解释. 典型就是生物体, 人本身存在各种反馈环, 人类现在根本完全掌握这个系统是如何运转的, 不然所有疾病都可以治愈了. 

当两个两个结合在一起那将进入更混乱的局面, 虽然无法解释但可以运行. 而自然构建的系统通常都是两个同时存在的.

## 人的极限

人类很少主动构建自我反馈和大规模并行系统, 很多复杂系统都是被动构建的, 比如人际关系, 市场经济, 股市, 互联网, 政府本身. 人类更善于构建线性系统, 即使纯粹的线性系统人都可以搞得很复杂了, 就不要考虑真正的复杂系统和混沌系统了.

## 最后的建议

工程界有很多实践方案来对抗复杂性, 我的唯一建议是每种工程实践都看看然后再实际开分中通过平衡各个实践方案, 才可能打到最好的结果. 没有一个实践是万能的, 需要和实际相结合.

我不要尝试对抗复杂性的增加, 这只会加剧的增加速度. 熵一定会增加, 接受吧.

